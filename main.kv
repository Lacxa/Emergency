#:import sm kivy.uix.screenmanager
#:import orientation plyer.orientation
ScreenManager
    id:manager
    transition:sm.FadeTransition(duration=.0)
    MDScreen:
        name:'home'
        md_bg_color: 236/255, 236/255, 236/255, 1
        FloatLayout:
            orientation:'vertical'
            Front:
                pos_hint:{'center_x':.5, 'center_y':.8}
                size:app.size_x/3,app.size_y/6
                on_release:
                    app.alert_all()
                FloatLayout:
                    MDIcon:
                        icon:"access-point"
                        #halign:"center"
                        text_color: 1, 1, 1, 1
                        font_size:"70sp"
                        pos_hint: {"center_x": .5, "center_y": .6}
                    MDLabel:
                        text:"Alert!"
                        halign:"center"
                        pos_hint:{"center_x":.5, "center_y":.25}
            Front:
                pos_hint:{'center_x':.5, 'center_y':.5}
                size:app.size_x/3,app.size_y/6
                on_release:
                    app.screen_capture("setting")
                FloatLayout:
                    MDIcon:
                        icon:"android-messages"
                        #halign:"center"
                        text_color: 1, 1, 1, 1
                        font_size:"70sp"
                        pos_hint: {"center_x": .5, "center_y": .6}
                    MDLabel:
                        text:"Numbers"
                        halign:"center"
                        pos_hint:{"center_x":.5, "center_y":.25}

            Front:
                pos_hint:{'center_x':.5, 'center_y':.2}
                size:app.size_x/3,app.size_y/6
                on_release:
                    app.screen_capture("call")

                FloatLayout:
                    MDIcon:
                        icon:"phone"
                        #halign:"center"
                        text_color: 1, 1, 1, 1
                        font_size:"70sp"
                        pos_hint: {"center_x": .5, "center_y": .6}
                    MDLabel:
                        halign:"center"
                        text:"call"
                        pos_hint:{'center_x':.5, 'center_y':.25}

    MDScreen:
        name:"setting"
        FloatLayout:
            MDIconButton:
                icon:"arrow-left"
                pos_hint:{"center_x":.1,"center_y":.95}
                user_font_size:"35"
                on_release:
                    app.screen_capture("home")

            MDLabel:
                text:"Numbers"
                halign:"center"
                theme_text_color: "Custom"
                font_style:"H6"
                #text_color:255/255, 126/255, 71/255, 1
                pos_hint:{"center_x":.5,"center_y":.96}

            Deco:
                size: app.size_x/1.2, app.size_y/3.6
                pos_hint:{"center_x":.5,"center_y":.77}

                RecycleView:
                    id: customers
                    key_viewclass: 'viewclass'
                    key_size: 'height'
                    pos_hint:{"center_x":.5,"top":.9}
                    RecycleBoxLayout:
                        id:wali
                        spacing:dp(5)
                        padding: dp(5)
                        default_size: None, dp(35)
                        default_size_hint: .99, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'

            Deco:
                size: app.size_x/1.2, app.size_y/3.6
                pos_hint:{"center_x":.5,"center_y":.46}
            MDLabel:
                text:"Add Number"
                halign:"center"
                theme_text_color: "Custom"
                font_style:"H5"
                text_color:255/255, 126/255, 71/255, 1
                pos_hint:{"center_x":.5,"center_y":.56}
            NumberField:
                id:number
                mode: "rectangle"
                size_hint: .6, .09
                hint_text:"Phone number:"
                pos_hint:{'center_x':.53, 'center_y':.48}
                font_size: dp(20)
            MDRaisedButton:
                id:lgs
                text: "Add"
                size_hint: .4, .06
                pos_hint:{'center_x':.65, 'center_y':.38}
                md_bg_color:255/255, 126/255, 71/255, 1
                on_release:
                    app.add_phone_number( number.text)
                    app.clear_input("number")


            Deco:
                size: app.size_x/1.2, app.size_y/3.6
                pos_hint:{"center_x":.5,"center_y":.15}
            MDLabel:
                text:"Edit Message"
                halign:"center"
                theme_text_color: "Custom"
                font_style:"H5"
                text_color:255/255, 126/255, 71/255, 1
                pos_hint:{"center_x":.5,"center_y":.25}
            MDTextField:
                id:sms
                mode: "rectangle"
                size_hint: .6, .09
                hint_text:"Message:"
                pos_hint:{'center_x':.53, 'center_y':.17}
                font_size: dp(16)
            MDRaisedButton:
                id:lgs
                text: "Edit"
                size_hint: .4, .06
                pos_hint:{'center_x':.65, 'center_y':.07}
                md_bg_color:255/255, 126/255, 71/255, 1
                on_release:
                    app.edit_message( sms.text)
                    app.clear_input("sms")

    MDScreen:
        name:"call"
        FloatLayout:
            MDIconButton:
                icon:"arrow-left"
                pos_hint:{"center_x":.1,"center_y":.95}
                user_font_size:"35"
                on_release:
                    app.screen_capture("home")

            Deco:
                size: app.size_x/1.2, app.size_y/3.6
                pos_hint:{"center_x":.5,"center_y":.77}
            MDLabel:
                text:"Change call"
                halign:"center"
                theme_text_color: "Custom"
                font_style:"H5"
                text_color:255/255, 126/255, 71/255, 1
                pos_hint:{"center_x":.5,"center_y":.87}
            NumberField:
                id:call
                mode: "rectangle"
                size_hint: .6, .09
                hint_text:"Phone number:"
                pos_hint:{'center_x':.53, 'center_y':.79}
                font_size: dp(20)
            MDRaisedButton:
                id:lgs
                text: "change"
                size_hint: .4, .06
                pos_hint:{'center_x':.65, 'center_y':.69}
                md_bg_color:255/255, 126/255, 71/255, 1
                on_release:
                    app.change_call(call.text)
                    app.clear_input("call")

            Deco:
                size: app.size_x/1.2, app.size_y/3.6
                pos_hint:{"center_x":.5,"center_y":.46}

            MDRaisedButton:
                id:lgs
                text: "Call"
                size_hint: .4, .06
                pos_hint:{'center_x':.5, 'center_y':.45}
                md_bg_color:255/255, 126/255, 71/255, 1
                on_release:
                    app.emergency_call()


<Deco@MDCard>:
    orientation: "vertical"
    md_bg_color: 1, 1, 1, 1
    padding: "10dp"
    spacing: "5dp"
    border_radius: 3
    border_color_a: .5
    radius: [9]
    size_hint: None, None
    size: app.size_x/1, app.size_y/2.5
    focus_behavior: False
    ripple_behavior: False

<Front@MDCard>:
    radius:25
    #height:240
    elevation:1
    size_hint:None, None
    shadow_softness:2
    size:app.size_x/3,app.size_y/6
    md_bg_color:255/255, 126/255, 71/255, 1
    adaptive_height:True
    style:"outlined"
    adaptive_width:True


<RowCard>:
    #orientation: "vertical"
    radius:9
    pos_x: .27
    pos_y: .64
    height:dp(65)
    #pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"
    FloatLayout:
        MDIconButton:
            icon:root.icon
            font_size:"35sp"
            theme_text_color:"Custom"
            text_color: 242/255, 186/255, 133/255, 1
            pos_hint:{"center_x":.045,"center_y":.5}

        MDLabel:
            text:root.name
            font_size:"15sp"
            #halign:"center"
            pos_hint:{"center_x":.8,"center_y":.5}
            theme_text_color: "Custom"

        MDIconButton:
            icon:"trash-can"
            font_size:"45sp"
            theme_text_color:"Custom"
            text_color: 242/255, 186/255, 133/255, 1
            pos_hint:{"center_x":.7,"center_y":.5}
            on_release:
                app.clear_phone(root.name)
