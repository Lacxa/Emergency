#:import sm kivy.uix.screenmanager
#:import orientation plyer.orientation
ScreenManager
    id:manager
    transition:sm.FadeTransition(duration=.0)
    MDScreen:
        name:'home'
        md_bg_color: 236/255, 236/255, 236/255, 1
        FloatLayout:
            orientation:'vertical'
            MDIconButton:
                icon:"segment"
                pos_hint:{"center_x":.9,"center_y":.95}
                user_font_size:"35"
                on_release:
                    app.screen_capture("setting")
            Front:
                pos_hint:{'center_x':.5, 'center_y':.8}
                size:app.size_x/3,app.size_y/6
                FloatLayout:
                    MDIcon:
                        icon:"access-point"
                        #halign:"center"
                        text_color: 1, 1, 1, 1
                        font_size:"70sp"
                        pos_hint: {"center_x": .5, "center_y": .6}
                    MDLabel:
                        text:"Alert!"
                        halign:"center"
                        pos_hint:{"center_x":.5, "center_y":.25}
            Front:
                pos_hint:{'center_x':.5, 'center_y':.5}
                size:app.size_x/3,app.size_y/6
                FloatLayout:
                    MDIcon:
                        icon:"hospital-building"
                        #halign:"center"
                        text_color: 1, 1, 1, 1
                        font_size:"70sp"
                        pos_hint: {"center_x": .5, "center_y": .6}
                    MDLabel:
                        text:"Hospital Emergency"
                        halign:"center"
                        font_size:"12sp"
                        pos_hint:{"center_x":.5, "center_y":.25}

            Front:
                pos_hint:{'center_x':.5, 'center_y':.2}
                size:app.size_x/3,app.size_y/6
                on_release:
                    app.emergency_call()
                FloatLayout:
                    MDIcon:
                        icon:"phone"
                        #halign:"center"
                        text_color: 1, 1, 1, 1
                        font_size:"70sp"
                        pos_hint: {"center_x": .5, "center_y": .6}
                    MDLabel:
                        halign:"center"
                        text:"call"
                        pos_hint:{'center_x':.5, 'center_y':.25}

    MDScreen:
        name:"setting"
        FloatLayout:
            MDIconButton:
                icon:"arrow-left"
                pos_hint:{"center_x":.1,"center_y":.95}
                user_font_size:"35"
                on_release:
                    app.screen_capture("home")

            Deco:
                size: app.size_x/1.2, app.size_y/3.6
                pos_hint:{"center_x":.5,"center_y":.77}
            MDLabel:
                text:"Alert Number"
                halign:"center"
                theme_text_color: "Custom"
                font_style:"H5"
                text_color:255/255, 126/255, 71/255, 1
                pos_hint:{"center_x":.5,"center_y":.87}
            NumberField:
                id:phone_number
                mode: "rectangle"
                size_hint: .6, .09
                hint_text:"Phone number:"
                pos_hint:{'center_x':.53, 'center_y':.79}
                font_size: dp(20)
            MDRaisedButton:
                id:lgs
                text: "Add"
                size_hint: .4, .06
                pos_hint:{'center_x':.65, 'center_y':.69}
                md_bg_color:255/255, 126/255, 71/255, 1
                on_release:
                    app.add_alert( phone_number.text)


            Deco:
                size: app.size_x/1.2, app.size_y/3.6
                pos_hint:{"center_x":.5,"center_y":.46}
            MDLabel:
                text:"Hospital Number"
                halign:"center"
                theme_text_color: "Custom"
                font_style:"H5"
                text_color:255/255, 126/255, 71/255, 1
                pos_hint:{"center_x":.5,"center_y":.56}
            NumberField:
                id:number
                mode: "rectangle"
                size_hint: .6, .09
                hint_text:"Phone number:"
                pos_hint:{'center_x':.53, 'center_y':.48}
                font_size: dp(20)
            MDRaisedButton:
                id:lgs
                text: "Add"
                size_hint: .4, .06
                pos_hint:{'center_x':.65, 'center_y':.38}
                md_bg_color:255/255, 126/255, 71/255, 1
                on_release:
                    app.save_phone_numbers( number.text)


            Deco:
                size: app.size_x/1.2, app.size_y/3.6
                pos_hint:{"center_x":.5,"center_y":.15}
            MDLabel:
                text:"Call Number"
                halign:"center"
                theme_text_color: "Custom"
                font_style:"H5"
                text_color:255/255, 126/255, 71/255, 1
                pos_hint:{"center_x":.5,"center_y":.25}
            NumberField:
                id:sms
                mode: "rectangle"
                size_hint: .6, .09
                hint_text:"Phone number:"
                pos_hint:{'center_x':.53, 'center_y':.17}
                font_size: dp(20)
            MDRaisedButton:
                id:lgs
                text: "Add"
                size_hint: .4, .06
                pos_hint:{'center_x':.65, 'center_y':.07}
                md_bg_color:255/255, 126/255, 71/255, 1
                on_release:
                    app.send_message( sms.text)

    MDScreen:
        name:"genesis"
        md_bg_color:81 / 225, 156 / 225, 114 / 225, 1

        MDBoxLayout:
            orientation:'vertical'
            MDLabel:
                text:'Emergency'
                halign:'center'
                bold:True
                size_hint:None, None
                font_style:'H2'
                size_hint:1, 5
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
            MDSpinner:
                id:spine
                size_hint: None, None
                size: dp(40), dp(40)
                pos_hint: {'center_x': .5, 'center_y': 1}
                active: True
                color: 1,1,1,1
            MDLabel:
                text:'Welcome!'
                halign:'center'
                bold:True
                size_hint:None, None
                font_style:'H4'
                size_hint:1, 5
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1


<Deco@MDCard>:
    orientation: "vertical"
    md_bg_color: 1, 1, 1, 1
    padding: "10dp"
    spacing: "5dp"
    border_radius: 3
    border_color_a: .5
    radius: [9]
    size_hint: None, None
    size: app.size_x/1, app.size_y/2.5
    focus_behavior: False
    ripple_behavior: False

<Front@MDCard>:
    radius:25
    #height:240
    elevation:1
    size_hint:None, None
    shadow_softness:2
    size:app.size_x/3,app.size_y/6
    md_bg_color:255/255, 126/255, 71/255, 1
    adaptive_height:True
    style:"outlined"
    adaptive_width:True
